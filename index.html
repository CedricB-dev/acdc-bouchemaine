<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ACDC - Atelier Citoyen Durable & Coopératif</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-white">

<!-- Header Section (Fixed) -->
<header class="bg-white py-4 fixed top-0 w-full z-50 shadow-md">
    <div class="container mx-auto flex flex-col items-center">
        <!-- Logo -->
        <img src="images/ACDC_image.jpg" alt="Logo de l'ACDC" class="w-48 md:w-64 lg:w-72">

        <!-- Divider Line (Hidden on mobile) -->
        <div class="border-t border-green-500 w-full max-w-lg my-2 hidden md:block"></div>

        <!-- Desktop Menu -->
        <nav class="hidden md:flex space-x-8 text-gray-700 font-bold" id="desktop-menu">
            <a href="#accueil" class="hover:text-green-400 py-2 transition-all duration-300">Accueil</a>
            <a href="#actions" class="hover:text-green-400 py-2 transition-all duration-300">Nos actions</a>
            <a href="#association" class="hover:text-green-400 py-2 transition-all duration-300">L’association</a>
            <a href="#equipe" class="hover:text-green-400 py-2 transition-all duration-300">L’équipe</a>
            <a href="#agenda" class="hover:text-green-400 py-2 transition-all duration-300">Agenda</a>
            <a href="#documentation" class="hover:text-green-400 py-2 transition-all duration-300">Documentation</a>
        </nav>

        <!-- Mobile Burger Menu -->
        <div class="md:hidden w-full flex justify-end pr-4">
            <button id="burger-menu" class="text-green-700 focus:outline-none">
                <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path>
                </svg>
            </button>
        </div>

        <!-- Mobile Menu (Hidden by default) -->
        <div id="mobile-menu" class="hidden flex flex-col space-y-4 mt-4 text-center text-gray-700 font-bold">
            <a href="#accueil" class="hover:text-green-400 py-2">Accueil</a>
            <a href="#actions" class="hover:text-green-400 py-2">Nos actions</a>
            <a href="#association" class="hover:text-green-400 py-2">L’association</a>
            <a href="#equipe" class="hover:text-green-400 py-2">L’équipe</a>
            <a href="#agenda" class="hover:text-green-400 py-2">Agenda</a>
            <a href="#documentation" class="hover:text-green-400 py-2">Documentation</a>
        </div>
    </div>
</header>

<!-- Spacer to account for the fixed header height -->
<div id="header-spacer" class="h-40"></div>

<!-- Sections -->
<section id="accueil" class="h-screen bg-green-50 pt-16">
    <h2 class="text-center text-4xl mt-24">Accueil</h2>
</section>

<section id="actions" class="h-screen bg-gray-50 pt-16">
    <h2 class="text-center text-4xl mt-24">Nos Actions</h2>
</section>

<section id="association" class="h-screen bg-green-50 pt-16">
    <h2 class="text-center text-4xl mt-24">L'Association</h2>
</section>

<section id="equipe" class="h-screen bg-gray-50 pt-16">
    <h2 class="text-center text-4xl mt-24">L'Équipe</h2>
</section>

<section id="agenda" class="h-screen bg-green-50 pt-16">
    <h2 class="text-center text-4xl mt-24">Agenda</h2>
</section>

<section id="documentation" class="h-screen bg-gray-50 pt-16">
    <h2 class="text-center text-4xl mt-24">Documentation</h2>
</section>

<!-- JavaScript for Active Menu Highlight, Burger Menu, and Scroll Handling -->
<script>
    const sections = document.querySelectorAll('section');
    const desktopMenuLinks = document.querySelectorAll('#desktop-menu a');
    const mobileMenuLinks = document.querySelectorAll('#mobile-menu a');
    const header = document.querySelector('header');
    const headerSpacer = document.getElementById('header-spacer');
    const mobileMenu = document.getElementById('mobile-menu');
    const burgerMenu = document.getElementById('burger-menu');

    // Toggle mobile menu
    burgerMenu.addEventListener('click', () => {
        mobileMenu.classList.toggle('hidden');
    });

    // Dynamically adjust the spacer height based on the header's height
    function adjustSpacerHeight() {
        const headerHeight = header.offsetHeight;
        headerSpacer.style.height = `${headerHeight}px`;
    }

    // Adjust spacer on load and on resize
    adjustSpacerHeight();
    window.addEventListener('resize', adjustSpacerHeight);

    // Scroll to section on menu click
    [...desktopMenuLinks, ...mobileMenuLinks].forEach(link => {
        link.addEventListener('click', (event) => {
            event.preventDefault();
            const targetId = link.getAttribute('href').substring(1);
            const targetSection = document.getElementById(targetId);
            const headerHeight = header.offsetHeight;
            const isMobile = window.innerWidth < 768;
            const scrollOffset = isMobile ? headerHeight - 450 : headerHeight -100;

            window.scrollTo({
                top: targetSection.offsetTop - scrollOffset,
                behavior: 'smooth'
            });

            // Close mobile menu on click
            if (!mobileMenu.classList.contains('hidden')) {
                mobileMenu.classList.add('hidden');
            }
        });
    });

    // Remove all active underline classes
    function removeActiveUnderline() {
        desktopMenuLinks.forEach(link => {
            link.classList.remove('border-b-2', 'border-green-500');
        });
    }

    // Add active underline to the correct menu item based on scroll position (desktop only)
    function setActiveMenu() {
        let currentSection = '';

        sections.forEach(section => {
            const sectionTop = section.offsetTop - header.offsetHeight - 500; // Offset for header height
            if (window.scrollY >= sectionTop) {
                currentSection = section.getAttribute('id');
            }
        });

        // Update the active state for desktop menu only
        desktopMenuLinks.forEach(link => {
            if (link.getAttribute('href').substring(1) === currentSection) {
                removeActiveUnderline();
                link.classList.add('border-b-2', 'border-green-500');
            }
        });
    }

    // Run setActiveMenu on scroll
    window.addEventListener('scroll', setActiveMenu);
</script>

</body>
</html>
